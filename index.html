<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>STUDENT SEARCH</title>
</head>
<body>

    <!-- onchange : select이 바뀌면 실행 --> 

    <select id = "js-select" onchange="changeValue()"></select>

    <div id = "infoArea">
        <div id = "name"></div>
        <div id = "gender"></div>
        <div id = "birth"></div>
    </div>
    
</body>

<script>

    // 사람의 정보 저장
    // 이 정보는 데이터베이스에서 온 것 name, gender, birth 3명

    // 배열 : 하나의 저장공간에 여러개를 저장할 수 있는 기능 -> []
    // 객체 : 사람 {이름, 성별, 생일} -> {}
    // 객체를 여러개 저장

    // 1. 객체를 저장할 저장공간 만들기
    // 2. 객체별 정보 넣기

    const people = [
        {
            name : "ryon", 
            gender : "M",
            birth : "071010"
            
        },
        {
            name : "muzi", 
            gender : "F",
            birth : "080611"
            
        },
        {
            name : "con", 
            gender : "M",
            birth : "090322"
            
        }

    ];

    // ES6

        const valueSetting = () => {
            const selectBox = document.getElementById("js-select");

            people.map(  (p) => { const option = document.createElement("option");
                                  option.text = p.name;
                                  selectBox.appendChild(option);
            });
        
    }

    const changeValue = () => {

        const selectBox = document.getElementById("js-select");
        const currentvalue = selectBox.options[selectBox.selectedIndex].value;

       people.map( p => {

            if(p.name === currentvalue) {
                console.log(p.name);
                console.log(p.gender);
                console.log(p.birth);

                const name = document.getElementById("name");
                const gender = document.getElementById("gender");
                const birth = document.getElementById("birth");

                name.innerText = p.name;
                gender.innerText = p.gender;
                birth.innerText = p.birth;


            }

       } );

    }


    // init은 페이지가 로드 된 후, 실행
    function init() {
        valueSetting();
    } 

    init();

</script>

</html>